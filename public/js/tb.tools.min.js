function convertURLs(t){var o=[],a=[];return t.forEach(function(t){isTaobaoURL(t)?o.push(convertURL(t)):a.push(t)}),{valid:o,invalid:a}}function convertURL(t){if(contains(t,"tmall.com"))return TMALL_URL+getID(t,ITEM_ID);if(contains(t,M_INTL)||contains(t,H5))return buildTaobaoURL(t,ITEM_ID,!1);if(contains(t,WORLD)){if(contains(t,"item"))return buildTaobaoURL(t,ITEM,!1);var o=t.replace("world.taobao.com","taobao.com");return cleanTaobaoStore(o)}return contains(t,SHOP_M)?buildTaobaoURL(t,SHOP_ID,!0):contains(t,"item")?buildTaobaoURL(t,"id=",!1):cleanTaobaoStore(t)}function getID(t,o){for(var a=t.indexOf(o)+o.length,n=t.length,i=a;i<t.length;i++)if(!isDigit(t.charAt(i))){n=i;break}return t.substring(a,n)}function buildTaobaoURL(t,o,a){if(a){var n=getID(t,o);return SHOP_URL.replace("{}",n)}var i=getID(t,o);return TAOBAO_URL+i}function cleanTaobaoStore(t){var o=t.indexOf("taobao.com/");return-1==o?t:(o+=10,contains(t,"search.htm")?t.substring(0,o)+SEARCH_QUERY:t.substring(0,o))}function isTaobaoURL(t){var o=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return o.test(t)&&(-1!=t.indexOf("taobao.com")||-1!=t.indexOf("tmall.com"))}function contains(t,o){return-1!=t.indexOf(o)}function isDigit(t){return t=t.charCodeAt(0),t>=48&&57>=t}const ITEM_ID="id=",ITEM="item/",SHOP_ID="shop_id=",TAOBAO_URL="https://item.taobao.com/item.htm?id=",TMALL_URL="https://detail.tmall.com/item.htm?id=",SHOP_URL="https://shop{}.taobao.com",M_INTL="m.intl.taobao.com",H5="h5.m.taobao.com",WORLD="world.taobao.com",SHOP_M="shop.m.taobao.com",SEARCH_QUERY="/search.htm?search=y";